webpackJsonp([0],{1054:function(t,e,s){"use strict";var i=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])};return function(e,s){function i(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=s(1055),o=s(1059),n=s(1064),a=function(t){function e(){var e=t.call(this,{key:"PlayScene"})||this;return e.communicator=new n.Communicator,e.shmup=new r.Shmup(e,e.communicator,e.scene),e.rythm=new o.Rythm(e,e.communicator),e}return i(e,t),e.prototype.preload=function(){this.rythm.preload(),this.shmup.preload()},e.prototype.create=function(){this.communicator.rythm=this.rythm,this.communicator.shmup=this.shmup;var t=this.add.image(0,0,"background");t.setOrigin(0,0),t.setDepth(2);var e=this.add.image(0,0,"foreground");e.setOrigin(0,0),e.setDepth(5),this.shmup.create(),this.rythm.create(),this.shmup.gameOver=!1,this.scene.gameOver=!1},e.prototype.update=function(t,e){var s=this.scene;this.shmup.update(t,e),this.rythm.update(t,e,this.scene),(this.shmup.gameOver||s.gameOver)&&(this.SaveScore(this.communicator.getScore()),this.rythm.KillMe(),this.scene.start("GameOverScene",{distance:this.rythm.getDistance()}))},e.prototype.SaveScore=function(t){var e=localStorage.getItem("FunkEscapeScore");window.localStorage.setItem("FunkEscapeCurrentScore",t),window.localStorage.setItem("FunkEscapeWinScore",this.rythm.GetWinScore().toString()),null===e?window.localStorage.setItem("FunkEscapeScore",t):e>t&&window.localStorage.setItem("FunkEscapeScore",t)},e}(Phaser.Scene);e.default=a},1055:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(1056),r=s(1057),o=s(425),n=s(197),a=function(){function t(t,e,s){this.scene=t,this.communicator=e,this.scenePlug=s,this.shieldCost=10,this.bulletCost=3,this.gameOver=!1,this.scoreTimer=0,this.lastScore=0,this.bulletCleanTimer=0,this.gamemap=new i.GameMap(this,this.scene),this.shmup=this}return t.prototype.preload=function(){},t.prototype.create=function(){this.gameOver=!1,this.scoreTimer=0,this.lastScore=0,this.bulletCleanTimer=0,this.asteroids=[],this.starfield=[],this.powerUps=[],this.emitters=[],this.bullets=[],this.bulletgroup=this.scene.physics.add.group(),this.gamemap.create(this.asteroids,this.powerUps),this.player=new r.Player({scene:this.scene,x:820,y:910,shmup:this}),this.scene.physics.world.setBounds(340,0,940,960),this.scene.physics.add.collider(this.player.sprite,this.asteroids,this.crash,null,this.scene),this.scene.physics.add.collider(this.bulletgroup,this.asteroids,this.explode,null,this.scene),this.scene.physics.add.collider(this.player.sprite,this.powerUps,this.powerCollect,null,this.scene),this.particles=this.scene.add.particles("particle3");for(var t=0;t<75;t++)this.createStar(Phaser.Math.Between(-30,960))},t.prototype.createStar=function(t){void 0===t&&(t=-50),this.starfield.push(this.scene.add.sprite(Phaser.Math.Between(340,1280),t,"sparkles"));var e=.15+.4*Math.random(),s=this.starfield[this.starfield.length-1];s.setScale(e),s.setDepth(0),s.setRotation(Phaser.Math.Between(0,360)),s.tint=16777215*Math.random()},t.prototype.createBullet=function(){if(!(this.communicator.getFunkAmount()>=this.bulletCost))return!1;this.communicator.removeFunk(this.bulletCost),this.bullets.push(this.bulletgroup.create(this.player.sprite.x,this.player.sprite.y,"bullet"));var t=this.bullets[this.bullets.length-1];return t.setVelocity(0,-600),t.setScale(1),!0},t.prototype.crash=function(t,e){this.communicator.getFunkAmount()>=this.shmup.shieldCost?(this.communicator.removeFunk(this.shmup.shieldCost),e.destroy()):this.scene.gameOver=!0},t.prototype.explode=function(t,e){this.shmup.bullets.splice(this.shmup.bullets.indexOf(e),1),e.destroy(),t.destroy()},t.prototype.powerCollect=function(t,e){switch(e.power){case o.Power.left:this.communicator.addFunk(n.NoteType.left),this.communicator.addFunk(n.NoteType.left),this.communicator.addFunk(n.NoteType.left);break;case o.Power.midLeft:this.communicator.addFunk(n.NoteType.midleft),this.communicator.addFunk(n.NoteType.midleft),this.communicator.addFunk(n.NoteType.midleft);break;case o.Power.midRight:this.communicator.addFunk(n.NoteType.midright),this.communicator.addFunk(n.NoteType.midright),this.communicator.addFunk(n.NoteType.midright);break;case o.Power.right:this.communicator.addFunk(n.NoteType.right),this.communicator.addFunk(n.NoteType.right),this.communicator.addFunk(n.NoteType.right)}e.destroy()},t.prototype.nuke=function(){for(var t=0,e=this.asteroids;t<e.length;t++){e[t].destroy()}this.asteroids=[]},t.prototype.update=function(t,e){if(this.bulletCleanTimer+=e,this.scoreTimer+=e,this.gamemap.update(t,e),this.player.update(e,this.communicator.getFunkAmount()),Math.random()<.05&&this.createStar(),this.bulletCleanTimer>1e3){for(var s=0;s<this.bullets.length;s++)if(this.bullets.hasOwnProperty(this.bullets[s])){var i=this.bullets[s];i.y<-1e3&&(this.bullets.splice(this.bullets.indexOf(i),1),s--,i.destroy())}this.bulletCleanTimer=0}for(var s=0;s<this.starfield.length;s++){var r=this.starfield[s];r.y+=r.scaleX+r.scaleY,r.y>1e3&&(this.starfield.splice(s--,1),r.destroy())}if(this.scoreTimer>5e3){var o=this.communicator.getScore(),n=this.lastScore-o;n>1e4&&(this.adjustAsteroidInterval(Math.pow(.97,Math.floor(n/1e4))),this.lastScore=o),this.scoreTimer=0}},t.prototype.adjustVelocity=function(t){this.gamemap.adjustVelocity(t)},t.prototype.setVelocity=function(t){this.gamemap.setVelocity(t)},t.prototype.adjustAsteroidInterval=function(t){this.gamemap.adjustAsteroidInterval(t)},t.prototype.setAsteroidInterval=function(t){this.gamemap.setAsteroidInterval(t)},t.prototype.adjustPowerUpInterval=function(t){this.gamemap.adjustPowerUpInterval(t)},t.prototype.setPowerUpInterval=function(t){this.gamemap.setPowerUpInterval(t)},t}();e.Shmup=a},1056:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(425),r=function(){function t(t,e){this.shmup=t,this.scene=e,this.baseInterval=1,this.asteroidInterval=this.baseInterval,this.powerUpInterval=this.baseInterval,this.asteroidTimer=1e4,this.powerUpTimer=0,this.asteroidSize=64,this.playerSize=64,this.timeSinceLastRequiredShot=0,this.scaling=1.5,this.lastGapRight=!1,this.baseVelocity=100,this.velocity=this.baseVelocity}return t.prototype.preload=function(){},t.prototype.create=function(t,e){this.asteroids=t,this.powerUps=e,this.asteroidTimer=1e4,this.powerUpTimer=0,this.timeSinceLastRequiredShot=0,this.lastGapRight=!1,this.asteroidInterval=this.baseInterval,this.powerUpInterval=this.baseInterval,this.velocity=this.baseVelocity},t.prototype.update=function(t,e){this.asteroidTimer+=e,this.powerUpTimer+=e,this.timeSinceLastRequiredShot+=e,this.asteroidTimer*this.velocity/8e3>this.asteroidSize*this.asteroidInterval&&(this.asteroidTimer=0,this.newAsteroids(),this.cleanUp()),this.powerUpTimer>this.powerUpInterval/this.velocity*5e5&&(this.powerUpTimer=0,this.newPowerUps())},t.prototype.adjustVelocity=function(t){this.velocity=this.velocity*t},t.prototype.setVelocity=function(t){this.velocity=t*this.baseVelocity},t.prototype.adjustAsteroidInterval=function(t){this.asteroidInterval=this.asteroidInterval*t},t.prototype.setAsteroidInterval=function(t){this.asteroidInterval=t},t.prototype.adjustPowerUpInterval=function(t){this.powerUpInterval=this.powerUpInterval*t},t.prototype.setPowerUpInterval=function(t){this.powerUpInterval=t},t.prototype.newPowerUps=function(){Math.random()>.3&&this.createPowerUp(Phaser.Math.Between(500,1100),-50,Phaser.Math.Between(0,3))},t.prototype.createPowerUp=function(t,e,s){var r="";switch(s){case i.Power.left:r="bluefunk";break;case i.Power.midLeft:r="greenfunk";break;case i.Power.midRight:r="redfunk";break;case i.Power.right:r="yellowfunk";break;default:return}var o=this.scene.physics.add.sprite(t,e,r,s).setVelocity(Math.floor(20*Math.random()-10),this.velocity+Math.floor(60*Math.random()-10));o.power=s,o.setRotation(6.28*Math.random()),o.setAngularVelocity(100*this.rnd2()),o.setDepth(1),this.powerUps.push(o)},t.prototype.newAsteroids=function(){for(var t=this.generateAsteroidBelt(),e=0,s=t;e<s.length;e++){var i=s[e];this.createAsteroid(i.x,i.y,i.width/this.asteroidSize)}},t.prototype.createAsteroid=function(t,e,s){var i=this.scene.physics.add.sprite(t,e,"asteroid").setVelocity(Math.floor(10*Math.random()-5),this.velocity+Math.floor(10*Math.random()-5));i.setCircle(this.asteroidSize/2,0,0),i.scaleY=s,i.scaleX=s,i.setRotation(6.28*Math.random()),i.setAngularVelocity(100*this.rnd2()),i.setDepth(1),this.asteroids.push(i)},t.prototype.cleanUp=function(){for(var t=0;t<this.asteroids.length;t++){var e=this.asteroids[t];e.y>this.scene.physics.world.bounds.height+100&&(this.asteroids.splice(t--,1),e.destroy())}for(var t=0;t<this.powerUps.length;t++){var s=this.powerUps[t];s.y>this.scene.physics.world.bounds.height+100&&(this.powerUps.splice(t--,1),s.destroy())}},t.prototype.generateAsteroidBelt=function(){for(var t=[],e=0;;){var s=Phaser.Math.Between(50,100)/100*this.scaling,i=this.asteroidSize*s;if(0!==e){var r=t[e-1].x,o=t[e-1].y,n=t[e-1].height,a=(t[e-1].width,Math.max(o-i-this.playerSize,-600)),h=Math.min(o+n+this.playerSize,-200-i),c=Phaser.Math.Between(a,h),u=0,p=Math.max(r-i-this.playerSize,360+i/2);if(u=c<o+n&&c+i>o?r-i:r-i/1.2,p>=u)break;var l=Phaser.Math.Between(p,u);t.push(new Phaser.Geom.Rectangle(l,c,i,i)),e++}else{var u=1280-i/2,p=u-this.playerSize,h=-200-i,a=-600+i,l=Phaser.Math.Between(p,u),c=Phaser.Math.Between(a,h);t.push(new Phaser.Geom.Rectangle(l,c,i,i)),e++}}return this.timeSinceLastRequiredShot<12e3?this.lastGapRight?(t.splice(Phaser.Math.Between(0,3),2),this.lastGapRight=!1):(t.splice(Phaser.Math.Between(t.length-3,t.length),2),this.lastGapRight=!0):this.timeSinceLastRequiredShot=0,t},t.prototype.rnd2=function(){return(Math.random()+Math.random()+Math.random()+Math.random()+Math.random()+Math.random()-3)/3},t}();e.GameMap=r},1057:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(1058),r=function(){function t(t){this.haveFired=!1,this.scene=t.scene,this.shmup=t.shmup,this.sprite=new Phaser.Physics.Arcade.Sprite(t.scene,t.x,t.y,"player"),this.mousecontrol=new i.MouseControl({input:this.scene.input,onLeft:this.fire.bind(this)}),this.scene.add.existing(this.sprite),this.scene.physics.add.existing(this.sprite),this.sprite.body.setSize(50,70,!0),this.sprite.body.setOffset(7.5,5),this.sprite.setDepth(3),this.sprite.setCollideWorldBounds(!0),this.sprite.setDrag(500,500),this.sprite.setMaxVelocity(600,600),this.leftKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.LEFT),this.rightKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.RIGHT),this.upKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.UP),this.downKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.DOWN),this.fireKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE),this.particles=this.scene.add.particles("particle3"),this.emitter=this.particles.createEmitter({x:0,y:0,tint:{start:4294967295,end:0},angle:0,speed:100,quantity:2,alpha:.8,gravityY:0,gravityX:0,scale:{start:.3,end:0},lifespan:100,blendMode:"ADD"}),this.emitter.startFollow(this.sprite,0,-30,!0),this.pew=this.scene.sound.add("pew",{loop:!1}),this.pew.volume=.4}return t.prototype.fire=function(){this.shmup.createBullet()&&this.pew.play()},t.prototype.update=function(t,e){this.emitter.setAngle(Phaser.Math.Between(0,360)),this.emitter.setScale(Math.max(Math.min(.02*e,.8),.1)),this.mousecontrol.update(this.sprite,t),this.sprite.body.velocity.x<-30?this.sprite.anims.play("left"):this.sprite.body.velocity.x>30?this.sprite.anims.play("right"):this.sprite.anims.play("idle"),this.mousecontrol.mouseEnabled&&(this.sprite.body.velocity.x=this.mousecontrol.vel.x,this.sprite.body.velocity.y=this.mousecontrol.vel.y),this.fireKey.isDown&&!this.haveFired?(this.fire(),this.haveFired=!0):this.fireKey.isDown||(this.haveFired=!1),this.leftKey.isDown&&(this.sprite.body.velocity.x-=40),this.rightKey.isDown&&(this.sprite.body.velocity.x+=40),this.upKey.isDown&&(this.sprite.body.velocity.y-=40),this.downKey.isDown&&(this.sprite.body.velocity.y+=40)},t}();e.Player=r},1058:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.lastpos=new Phaser.Math.Vector2(0,0),this.delta=new Phaser.Math.Vector2(0,0),this.vel=new Phaser.Math.Vector2(0,0),this.mouseEnabled=!0,this.mouseTimer=0,this.input=t.input,this.input.on("pointerdown",function(e){1==e.buttons&&t.onLeft()},this),this.input.on("pointermove",function(t){this.lastpos.x=t.x,this.lastpos.y=t.y,this.mouseEnabled=!0,this.mouseTimer=0},this)}return t.prototype.setInput=function(t){this.input=t},t.prototype.update=function(t,e){this.mouseTimer>1e3?this.mouseEnabled=!1:this.mouseTimer+=e;var s=new Phaser.Math.Vector2(t.x,t.y);this.delta.x=this.lastpos.x-s.x,this.delta.y=this.lastpos.y-s.y,this.delta.normalize(),this.dist=this.lastpos.distance(s);var i=3*Math.min(200,Math.max(this.dist-20,0));this.vel=new Phaser.Math.Vector2(this.delta.x*i,this.delta.y*i)},t}();e.MouseControl=i},1059:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(197),r=s(1060),o=s(1063),n=function(){function t(t,e){this.scene=t,this.communicator=e,this.distance=4e5,this.winScore=4e5,this.multiplier=1,this.streak=0,this.bluePrimed=!0,this.greenPrimed=!0,this.redPrimed=!0,this.yellowPrimed=!0,this.createdNotes=0,this.musicTimer=0,this.blockTimer=0,this.offset=4650,this.musicDuration=192e3,this.playing=!1,this.conductor=new r.Conductor(this.scene)}return t.prototype.preload=function(){var t=this.conductor.Load("level3",0);this.scene.load.audio("rythmaudio",t.path,null)},t.prototype.create=function(){this.notes=this.scene.physics.add.group(),this.blueKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.Q),this.greenKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W),this.redKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.E),this.yellowKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.R),this.scoreText=this.scene.add.text(1010,8,"Distance: 400000km",{fontSize:"24px",fill:"#fff"}).setDepth(3),this.multiplierText=this.scene.add.text(300,845,"x1",{fontSize:"24px",fill:"#fff"}).setDepth(6),this.infoAtWhatTimesToDoStuff=this.conductor.Start(),this.particleManager=this.scene.add.particles("particle1"),this.particleManager.setDepth(4),this.successleft=this.scene.add.sprite(13,836,"success"),this.successleft.setDepth(4),this.successleft.setOrigin(0,0),this.successleft.setVisible(!1),this.successmidleft=this.scene.add.sprite(82,836,"success"),this.successmidleft.setDepth(4),this.successmidleft.setOrigin(0,0),this.successmidleft.setVisible(!1),this.successmidright=this.scene.add.sprite(151,836,"success"),this.successmidright.setDepth(4),this.successmidright.setOrigin(0,0),this.successmidright.setVisible(!1),this.successright=this.scene.add.sprite(220,836,"success"),this.successright.setDepth(4),this.successright.setOrigin(0,0),this.successright.setVisible(!1),this.failLeft=this.scene.add.sprite(13,836,"fail"),this.failLeft.setDepth(4),this.failLeft.setOrigin(0,0),this.failLeft.setVisible(!1),this.failmidleft=this.scene.add.sprite(82,836,"fail"),this.failmidleft.setDepth(4),this.failmidleft.setOrigin(0,0),this.failmidleft.setVisible(!1),this.failmidright=this.scene.add.sprite(151,836,"fail"),this.failmidright.setDepth(4),this.failmidright.setOrigin(0,0),this.failmidright.setVisible(!1),this.failright=this.scene.add.sprite(220,836,"fail"),this.failright.setDepth(4),this.failright.setOrigin(0,0),this.failright.setVisible(!1),this.funkOMeter=new o.FunkOMeter(this.scene),this.distance=this.winScore,this.blockTimer=0,this.musicTimer=0,this.createdNotes=0,this.playing=!1,this.conductor.Stop()},t.prototype.update=function(t,e,s){this.checkMusic(e),this.retractDistance(1),this.checkKeys(),this.checkWorldBound(this.notes.children.entries,this.scene.physics.world),this.updateScore(),this.distance<0&&(this.conductor.Stop(),s.start("WinScene"))},t.prototype.checkMusic=function(t){for(var e=this.infoAtWhatTimesToDoStuff.length,s=this.createdNotes;s<e;s++){var i=this.infoAtWhatTimesToDoStuff[s],r=Object.keys(i)[0],o=i[r];if(+r<this.blockTimer){this.createNote(o),this.createdNotes++;break}}this.blockTimer>this.offset&&!this.playing&&(this.conductor.Play(),this.playing=!0),this.blockTimer>this.musicDuration+this.offset&&(this.blockTimer=0,this.createdNotes=0,this.playing=!1,this.conductor.Stop()),this.blockTimer+=t},t.prototype.updateScore=function(){this.scoreText.setText("Distance: "+this.distance+"km")},t.prototype.checkKeys=function(){this.blueKey.isDown&&this.bluePrimed&&(this.bluePrimed=!1,this.checkHit(this.notes.children.entries,i.NoteType.left)?this.successleft.setVisible(!0):(this.failLeft.setVisible(!0),this.miss(),this.funkOMeter.removeFunk(1))),this.greenKey.isDown&&this.greenPrimed&&(this.greenPrimed=!1,this.checkHit(this.notes.children.entries,i.NoteType.midleft)?this.successmidleft.setVisible(!0):(this.failmidleft.setVisible(!0),this.miss(),this.funkOMeter.removeFunk(1))),this.redKey.isDown&&this.redPrimed&&(this.redPrimed=!1,this.checkHit(this.notes.children.entries,i.NoteType.midright)?this.successmidright.setVisible(!0):(this.failmidright.setVisible(!0),this.miss(),this.funkOMeter.removeFunk(1))),this.yellowKey.isDown&&this.yellowPrimed&&(this.yellowPrimed=!1,this.checkHit(this.notes.children.entries,i.NoteType.right)?this.successright.setVisible(!0):(this.failright.setVisible(!0),this.miss(),this.funkOMeter.removeFunk(1))),this.blueKey.isUp&&(this.bluePrimed=!0,this.successleft.setVisible(!1),this.failLeft.setVisible(!1)),this.greenKey.isUp&&(this.greenPrimed=!0,this.successmidleft.setVisible(!1),this.failmidleft.setVisible(!1)),this.redKey.isUp&&(this.redPrimed=!0,this.successmidright.setVisible(!1),this.failmidright.setVisible(!1)),this.yellowKey.isUp&&(this.yellowPrimed=!0,this.successright.setVisible(!1),this.failright.setVisible(!1))},t.prototype.miss=function(){this.streak=0,this.calcMultiplier()},t.prototype.calcMultiplier=function(){this.streak>5&&this.streak<=15?this.multiplier=2:this.streak>15?this.multiplier=4:this.multiplier=1,this.updateMultiplierText()},t.prototype.updateMultiplierText=function(){this.multiplierText.setText("x"+this.multiplier)},t.prototype.createNote=function(t){var e=this.xValue(t),s=this.notes.create(e,-100,this.getTexture(t));s.setVelocity(0,200),s.setDepth(3),this.particleManager.createEmitter({tint:this.getTint(t),x:{max:22,min:-22},y:{max:22,min:-22},speed:100,quantity:1,lifespan:300,scale:{start:.2,end:0},blendMode:"ADD"}).startFollow(s,0,0,!0)},t.prototype.getTint=function(t){return t==i.NoteType.left?11154227:t==i.NoteType.midleft?3385907:t==i.NoteType.midright?3355562:t==i.NoteType.right?3386026:void 0},t.prototype.xValue=function(t){return 46+69*t},t.prototype.getTexture=function(t){return t==i.NoteType.left?"bluenote":t==i.NoteType.midleft?"greennote":t==i.NoteType.midright?"rednote":t==i.NoteType.right?"yellownote":void 0},t.prototype.checkWorldBound=function(t,e){for(var s=0,i=t;s<i.length;s++){var r=i[s];r.y>e.bounds.height+50&&(r.x>0&&this.miss(),r.destroy())}},t.prototype.checkHit=function(t,e){for(var s=0,i=t;s<i.length;s++){var r=i[s];if(r.y>826&&r.y<876&&r.x==this.xValue(e))return this.scene.tweens.add({targets:r,x:-1400,ease:"elastic",duration:1500,repeat:-1,repeatDelay:1e3,hold:1e3}),this.funkOMeter.addFunk(e),this.retractDistance(1e3),this.streak++,this.calcMultiplier(),!0}return!1},t.prototype.retractDistance=function(t){this.distance-=t*this.multiplier},t.prototype.getDistance=function(){return this.distance},t.prototype.KillMe=function(){this.playing=!1,this.conductor.Stop()},t.prototype.GetWinScore=function(){return this.winScore},t}();e.Rythm=n},1060:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(1061),r=s(1062),o=function(){function t(t){this.scene=t,this.levels=new i.Levels,this.transformer=new r.TransformMidiJson}return t.prototype.Load=function(t,e){this.seektime=0,this.level=t,this.loopCount=0;if(this.levelmetainfo=this.levels.Level3(),e>0)for(var s=this.levelmetainfo.notes.length;s--;)(s+1)%e==0&&this.levelmetainfo.notes.splice(s,1);return this.levelmetainfo.musicmeta},t.prototype.Start=function(){return this.music=this.scene.sound.add("rythmaudio",{loop:!0}),this.levelmetainfo.notes},t.prototype.Play=function(){console.log("Conductor Play "+this.level),this.music.play("",0,1,!0)},t.prototype.Stop=function(){this.music.stop()},t.prototype.GetTime=function(){return this.music.seek},t.prototype.LoopCount=function(){return this.loopCount},t.prototype.LoadAudio=function(){return console.log("JSON Level load outside:"+JSON.stringify(this.leveljson.musicmeta)),this.leveljson.musicmeta},t.prototype.hasLooped=function(t){this.loopCount++},t.prototype.loadJSON=function(t,e){var s=new XMLHttpRequest;s.overrideMimeType("application/json"),s.open("GET",t,!0),s.onreadystatechange=function(){4==s.readyState&&200==s.status&&e(s.responseText)},s.send(null)},t}();e.Conductor=o},1061:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.Level1=function(){return{musicmeta:{title:"Enter darkness",path:"assets/audio/enter_darkness/track.mp3",background:"imgbackground.jpg",offset:"6200",bpm:"120",duration:"8500"},notes:[{0:0},{500:1},{1000:0},{2500:1},{2750:1},{3000:3},{4484.375:1},{4625:0},{6500:0},{6750:2},{7000:3}]}},t.prototype.Level2=function(){return{musicmeta:{title:"Enter darkness 2",path:"assets/audio/enter_darkness/track2.mp3",background:"imgbackground.jpg",offset:"0",bpm:"120",duration:"107750"},notes:[{8000:1},{8000:0},{8500:0},{9250:0},{9625:0},{10000:0},{10750:0},{11250:0},{11625:0},{12000:1},{12000:0},{12500:0},{13250:0},{13625:0},{14000:0},{14750:0},{15250:0},{15625:0},{16000:1},{16000:0},{16500:3},{16500:0},{16750:1},{17250:0},{17500:3},{17625:0},{18000:1},{18000:0},{18500:3},{18750:1},{18750:0},{19250:0},{19500:3},{19500:0},{19625:0},{20000:1},{20000:0},{20500:3},{20500:0},{20750:1},{21250:0},{21500:3},{21625:0},{22000:1},{22000:0},{22500:3},{22750:1},{22750:0},{23250:0},{23500:3},{23500:0},{23625:0},{24000:1},{24000:0},{24500:3},{24500:0},{24750:1},{25250:0},{25500:3},{25625:0},{26000:1},{26000:0},{26500:3},{26750:1},{26750:0},{27250:0},{27500:3},{27500:0},{27625:0},{28000:1},{28000:0},{28500:3},{28500:0},{28750:1},{29250:0},{29500:3},{29625:0},{30000:1},{30000:0},{30500:3},{30750:1},{30750:0},{31250:0},{31500:3},{31500:0},{31625:0},{32000:1},{32000:0},{32500:3},{32500:0},{32750:1},{33250:0},{33500:3},{33625:0},{33750:3},{34000:1},{34000:0},{34500:3},{34500:0},{34750:1},{34750:0},{35250:0},{35500:3},{35500:0},{35625:3},{35625:0},{35750:3},{35750:2},{35875:3},{35875:0},{36000:1},{36000:0},{36500:0},{37250:0},{37625:0},{38000:1},{38000:0},{38125:1},{38750:1},{38750:0},{39000:1},{39250:0},{39500:1},{39625:0},{39750:0},{39875:0},{40000:1},{40000:0},{40500:3},{40500:0},{40750:1},{41250:0},{41500:3},{41625:0},{41750:3},{42000:1},{42000:0},{42500:3},{42500:0},{42750:1},{42750:0},{43250:0},{43500:3},{43500:0},{43625:3},{43625:0},{43750:3},{43750:2},{43875:3},{43875:0},{44000:1},{44000:0},{44500:0},{45250:0},{45625:0},{46000:1},{46000:0},{46125:1},{46750:1},{46750:0},{47000:1},{47250:0},{47500:1},{47625:0},{47750:0},{47875:0},{48000:1},{48000:0},{48500:3},{48500:0},{48750:1},{49250:0},{49500:3},{49625:0},{50000:1},{50000:0},{50500:3},{50750:1},{50750:0},{51250:0},{51500:3},{51500:0},{51625:0},{52000:1},{52000:0},{52500:3},{52500:0},{52750:1},{53250:0},{53500:3},{53625:0},{54000:1},{54000:0},{54500:3},{54750:1},{54750:0},{55250:0},{55500:3},{55500:0},{55625:0},{56000:1},{56000:0},{56500:3},{56500:0},{56750:1},{57250:0},{57500:3},{57625:0},{58000:1},{58000:0},{58500:3},{58750:1},{58750:0},{59250:0},{59500:3},{59500:0},{59625:0},{60000:1},{60000:0},{60500:3},{60500:0},{60750:1},{61250:0},{61500:3},{61625:0},{62000:1},{62000:0},{62500:3},{62750:1},{62750:0},{63250:0},{63500:3},{63500:0},{63625:0},{64000:1},{64000:0},{64500:0},{65250:0},{65625:0},{66000:0},{66750:0},{67250:0},{67625:0},{68000:1},{68000:0},{68500:0},{69250:0},{69625:0},{70000:0},{70750:0},{71250:0},{71625:0},{72000:1},{72000:0},{72500:3},{72500:0},{72750:1},{73250:0},{73500:3},{73625:0},{73750:3},{74000:1},{74000:0},{74500:3},{74500:0},{74750:1},{74750:0},{75250:0},{75500:3},{75500:0},{75625:3},{75625:0},{75750:3},{75750:2},{75875:3},{75875:0},{76000:1},{76000:0},{76500:3},{76500:0},{76750:1},{77250:0},{77500:3},{77625:0},{77750:3},{78000:1},{78000:0},{78500:3},{78500:0},{78750:1},{78750:0},{79250:0},{79500:3},{79500:0},{79625:3},{79625:0},{79750:3},{79750:2},{79875:3},{79875:0},{80000:1},{80000:0},{80500:0},{81250:0},{81625:0},{82000:1},{82000:0},{82125:1},{82750:1},{82750:0},{83000:1},{83250:0},{83500:1},{83625:0},{83750:0},{83875:0},{84000:1},{84000:0},{84500:3},{84500:0},{84750:1},{85250:0},{85500:3},{85625:0},{85750:3},{86000:1},{86000:0},{86500:3},{86500:0},{86750:1},{86750:0},{87250:0},{87500:3},{87500:0},{87625:3},{87625:0},{87750:3},{87750:2},{87875:3},{87875:0},{88000:1},{88000:0},{88500:0},{89250:0},{89625:0},{90000:1},{90000:0},{90125:1},{90750:1},{90750:0},{91000:1},{91250:0},{91500:1},{91625:0},{91750:0},{91875:0},{92000:1},{92000:0},{92500:3},{92500:0},{92750:1},{93250:0},{93500:3},{93625:0},{93750:3},{94000:1},{94000:0},{94500:3},{94500:0},{94750:1},{94750:0},{95250:0},{95500:3},{95500:0},{95625:3},{95625:0},{95750:3},{95750:2},{95875:3},{95875:0},{96000:1},{96000:0},{96500:3},{96500:0},{96750:1},{97250:0},{97500:3},{97625:0},{98000:1},{98000:0},{98500:3},{98750:1},{98750:0},{99250:0},{99500:3},{99500:0},{99625:0},{100000:1},{100000:0},{100500:0},{101250:0},{101625:0},{102000:0},{102750:0},{103250:0},{103625:0},{104000:1},{104000:0},{104500:0},{105250:0},{105625:0},{106000:0},{106750:0},{107250:0},{107625:0}]}},t.prototype.Level3=function(){return{musicmeta:{title:"Enter darkness 3",path:"assets/audio/enter_darkness/track3.mp3",background:"imgbackground.jpg",offset:"0",bpm:"120",duration:"192000"},notes:[{0:0},{2000:0},{2250:1},{2500:1},{3500:1},{3750:2},{3875:1},{4000:0},{6000:0},{6250:1},{6500:1},{7500:1},{7750:2},{7875:1},{8000:0},{10000:0},{10250:1},{10500:1},{11500:1},{11750:2},{11875:1},{12000:0},{14000:0},{14250:1},{14500:1},{15500:1},{15750:2},{15875:1},{16000:0},{18000:0},{18250:1},{18500:1},{19500:1},{19750:2},{19875:1},{20000:0},{22000:0},{22250:1},{22500:1},{23500:1},{23750:2},{23875:1},{24000:0},{26000:0},{26250:1},{26500:1},{27500:1},{27750:2},{27875:1},{28000:0},{30000:0},{30250:1},{30500:1},{31500:1},{31750:2},{31875:1},{32250:1},{32500:3},{33250:1},{33500:3},{34250:1},{34500:3},{35250:1},{35500:3},{35875:2},{36250:1},{36500:3},{37250:1},{37500:3},{38250:1},{38500:3},{39250:1},{39500:3},{39875:2},{40250:1},{40500:3},{41250:1},{41500:3},{42250:1},{42500:3},{43250:1},{43500:3},{43875:2},{44250:1},{44500:3},{45250:1},{45500:3},{46250:1},{46500:3},{47250:1},{47500:3},{47875:2},{48250:1},{48500:3},{49250:1},{49500:3},{50250:1},{50500:3},{51250:1},{51500:3},{51875:2},{52250:1},{52500:3},{53250:1},{53500:3},{54250:1},{54500:3},{55250:1},{55500:3},{55875:2},{56250:1},{56500:3},{57250:1},{57500:3},{58250:1},{58500:3},{59250:1},{59500:3},{59875:2},{60250:1},{60500:3},{61250:1},{61500:3},{62250:1},{62500:3},{63250:1},{63500:3},{63875:2},{64250:0},{64500:0},{64750:1},{65250:0},{65500:0},{66250:0},{66500:0},{66750:1},{67125:1},{67250:0},{67500:0},{67500:1},{67875:2},{68250:0},{68500:0},{68750:1},{69250:0},{69500:0},{70250:0},{70500:0},{70750:1},{71125:1},{71250:0},{71500:0},{71500:1},{71875:2},{72250:0},{72500:0},{72750:1},{73250:0},{73500:0},{74250:0},{74500:0},{74750:1},{75125:1},{75250:0},{75500:0},{75500:1},{75875:2},{76250:0},{76500:0},{76750:1},{77250:0},{77500:0},{78250:0},{78500:0},{78750:1},{79125:1},{79250:0},{79500:0},{79500:1},{79875:2},{80250:0},{80500:0},{80750:1},{81250:0},{81500:0},{82250:0},{82500:0},{82750:1},{83125:1},{83250:0},{83500:0},{83500:1},{83875:2},{84250:0},{84500:0},{84750:1},{85250:0},{85500:0},{86250:0},{86500:0},{86750:1},{87125:1},{87250:0},{87500:0},{87500:1},{87875:2},{88250:0},{88500:0},{88750:1},{89250:0},{89500:0},{90250:0},{90500:0},{90750:1},{91125:1},{91250:0},{91500:0},{91500:1},{91875:2},{92250:0},{92500:0},{92750:1},{93250:0},{93500:0},{94250:0},{94500:0},{94750:1},{95125:1},{95250:0},{95500:0},{95500:1},{95875:2},{96000:0},{96250:3},{96500:3},{97000:0},{98000:0},{98250:3},{98500:3},{99000:0},{99250:0},{99500:0},{99625:3},{99875:3},{100000:0},{100250:3},{100500:3},{101000:0},{102000:0},{102250:3},{102500:3},{103000:0},{103250:0},{103500:0},{103625:3},{103875:3},{104000:0},{104250:3},{104500:3},{105000:0},{106000:0},{106250:3},{106500:3},{107000:0},{107250:0},{107500:0},{107625:3},{107875:3},{108000:0},{108250:3},{108500:3},{109000:0},{110000:0},{110250:3},{110500:3},{111000:0},{111250:0},{111500:0},{111625:3},{111875:3},{112000:0},{112250:3},{112500:3},{113000:0},{114000:0},{114250:3},{114500:3},{115000:0},{115250:0},{115500:0},{115625:3},{115875:3},{116000:0},{116250:3},{116500:3},{117000:0},{118000:0},{118250:3},{118500:3},{119000:0},{119250:0},{119500:0},{119625:3},{119875:3},{120000:0},{120250:3},{120500:3},{121000:0},{122000:0},{122250:3},{122500:3},{123000:0},{123250:0},{123500:0},{123625:3},{123875:3},{124000:0},{124250:3},{124500:3},{125000:0},{126000:0},{126250:3},{126500:3},{127000:0},{127250:0},{127500:0},{127625:3},{127875:3},{128000:0},{128500:3},{128750:3},{129500:0},{129875:3},{130000:0},{130500:3},{130750:3},{131500:0},{131500:2},{131625:2},{131875:3},{132000:0},{132500:3},{132750:3},{133500:0},{133875:3},{134000:0},{134500:3},{134750:3},{135500:0},{135500:2},{135625:2},{135875:3},{136000:0},{136500:3},{136750:3},{137500:0},{137875:3},{138000:0},{138500:3},{138750:3},{139500:0},{139500:2},{139625:2},{139875:3},{140000:0},{140500:3},{140750:3},{141500:0},{141875:3},{142000:0},{142500:3},{142750:3},{143500:0},{143500:2},{143625:2},{143875:3},{144000:0},{144500:3},{144750:3},{145500:0},{145875:3},{146000:0},{146500:3},{146750:3},{147500:0},{147500:2},{147625:2},{147875:3},{148000:0},{148500:3},{148750:3},{149500:0},{149875:3},{150000:0},{150500:3},{150750:3},{151500:0},{151500:2},{151625:2},{151875:3},{152000:0},{152500:3},{152750:3},{153500:0},{153875:3},{154000:0},{154500:3},{154750:3},{155500:0},{155500:2},{155625:2},{155875:3},{156000:0},{156500:3},{156750:3},{157500:0},{157875:3},{158000:0},{158500:3},{158750:3},{159500:0},{159500:2},{159625:2},{159875:3},{160000:0},{160500:0},{160750:1},{161000:0},{161250:0},{161500:0},{162000:0},{162500:0},{162750:1},{163000:0},{163250:0},{163375:3},{163500:0},{163750:3},{163875:2},{163875:3},{164000:0},{164500:0},{164750:1},{165000:0},{165250:0},{165500:0},{166000:0},{166500:0},{166750:1},{167000:0},{167250:0},{167375:3},{167500:0},{167750:3},{167875:2},{167875:3},{168000:0},{168500:0},{168750:1},{169000:0},{169250:0},{169500:0},{170000:0},{170500:0},{170750:1},{171000:0},{171250:0},{171375:3},{171500:0},{171750:3},{171875:2},{171875:3},{172000:0},{172500:0},{172750:1},{173000:0},{173250:0},{173500:0},{174000:0},{174500:0},{174750:1},{175000:0},{175250:0},{175375:3},{175500:0},{175750:3},{175875:2},{175875:3},{176000:0},{176500:0},{176750:1},{177000:0},{177250:0},{177500:0},{178000:0},{178500:0},{178750:1},{179000:0},{179250:0},{179375:3},{179500:0},{179750:3},{179875:2},{179875:3},{180000:0},{180500:0},{180750:1},{181000:0},{181250:0},{181500:0},{182000:0},{182500:0},{182750:1},{183000:0},{183250:0},{183375:3},{183500:0},{183750:3},{183875:2},{183875:3},{184000:0},{184500:0},{184750:1},{185000:0},{185250:0},{185500:0},{186000:0},{186500:0},{186750:1},{187000:0},{187250:0},{187375:3},{187500:0},{187750:3},{187875:2},{187875:3},{188000:0},{188500:0},{188750:1},{189000:0},{189250:0},{189500:0},{190000:0},{190500:0},{190750:1},{191000:0},{191250:0},{191375:3},{191500:0},{191750:3},{191875:2},{191875:3}]}},t}();e.Levels=i},1062:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.Transform=function(){var t=this;this.loadJSON("assets/audio/enter_darkness/track3.json",function(e){var s=JSON.parse(e);t.TransformToGameJson(s)})},t.prototype.TransformToGameJson=function(t){console.log("Transform, Midi json is "+JSON.stringify(t));var e={musicmeta:{title:"TODO-TITLE",path:"TODO-PATH",background:"TODO-BKG",offset:"0",bpm:"0",duration:"0"},notes:[]};e.musicmeta.bpm=t.header.bpm,e.musicmeta.duration=t.duration;for(var s=0;s<t.tracks[0].notes.length;s++){var i=t.tracks[0].notes[s],r=this.GameNote(i.name),o=this.ToMilliSeconds(i.time),n=(a={},a[o]=r,a);e.notes.push(n)}return console.log("Transformed to GameJson:"+JSON.stringify(e)),e;var a},t.prototype.GameNote=function(t){return"C2"==t?0:"D2"==t?1:"D#2"==t?2:"F#2"==t?3:0},t.prototype.ToMilliSeconds=function(t){var e=parseFloat(t),s=Math.floor(e);return 1e3*s+1e3*(e-s)},t.prototype.loadJSON=function(t,e){var s=new XMLHttpRequest;s.overrideMimeType("application/json"),s.open("GET",t,!0),s.onreadystatechange=function(){4==s.readyState&&200==s.status&&e(s.responseText)},s.send(null)},t}();e.TransformMidiJson=i},1063:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(197),r=function(){function t(t){this.scene=t,this.sprites=[],this.maxfunk=44}return t.prototype.addFunk=function(t){if(this.sprites.length<this.maxfunk){var e=this.scene.add.sprite(312,830-13*this.sprites.length,this.getFunkName(t));e.setDepth(2),this.sprites.push(e)}},t.prototype.removeFunk=function(t){for(var e=this.sprites.splice(this.sprites.length-t,t),s=0,i=e;s<i.length;s++){i[s].destroy()}},t.prototype.getFunkAmount=function(){return this.sprites.length},t.prototype.getFunkName=function(t){return t==i.NoteType.left?"bluefunk":t==i.NoteType.midleft?"greenfunk":t==i.NoteType.midright?"redfunk":t==i.NoteType.right?"yellowfunk":void 0},t}();e.FunkOMeter=r},1064:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.getScore=function(){return this.rythm.getDistance()},t.prototype.nuke=function(){this.shmup.nuke()},t.prototype.adjustShmupWorldVelocity=function(t){this.shmup.adjustVelocity(t)},t.prototype.setShmupWorldVelocity=function(t){this.shmup.adjustVelocity(t)},t.prototype.adjustAsteroidInterval=function(t){this.shmup.adjustAsteroidInterval(t)},t.prototype.setAsteroidInterval=function(t){this.shmup.setAsteroidInterval(t)},t.prototype.adjustPowerUpInterval=function(t){this.shmup.adjustPowerUpInterval(t)},t.prototype.setPowerUpInterval=function(t){this.shmup.setPowerUpInterval(t)},t.prototype.getFunkAmount=function(){return this.rythm.funkOMeter.getFunkAmount()},t.prototype.addFunk=function(t){this.rythm.funkOMeter.addFunk(t)},t.prototype.removeFunk=function(t){this.rythm.funkOMeter.removeFunk(t)},t}();e.Communicator=i},1065:function(t,e,s){"use strict";var i=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])};return function(e,s){function i(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return t.call(this,{key:"BootScene"})||this}return i(e,t),e.prototype.preload=function(){this.add.image(0,0,"loading_screen").setOrigin(0,0),this.load.spritesheet("player","assets/sprites/ship_spritemap.png",{frameWidth:65,frameHeight:75}),this.load.audio("titleaudio","assets/audio/titlemusic.mp3",null),this.load.audio("gameoveraudio","assets/audio/gameover.mp3",null),this.load.audio("pew","assets/audio/Laser_shoot.wav",null),this.load.audio("shipfire","assets/audio/Laser_Shoot2.mp3",null),this.load.image("particle1","assets/sprites/particle_1.png"),this.load.image("particle2","assets/sprites/particle_2.png"),this.load.image("particle3","assets/sprites/particle_3.png"),this.load.image("background_title","assets/sprites/title_screen.png"),this.load.image("background_gameover","assets/sprites/gameoverfinaltransp.png"),this.load.image("background_instruction","assets/sprites/instruction_screen.png"),this.load.image("background_win","assets/sprites/win_screen.png"),this.load.image("startguld","assets/sprites/startguld.png"),this.load.image("instructionguld","assets/sprites/instructionguld.png"),this.load.image("you_escaped","assets/sprites/youescaped.png"),this.load.image("pixel","assets/sprites/pixel.png"),this.load.image("bullet","assets/sprites/bullet.png"),this.load.image("unicorn","assets/sprites/unicorn.png"),this.load.image("unicornlarge","assets/sprites/unicornlarge.png"),this.load.image("background","assets/sprites/funk_background_bottom.png"),this.load.image("foreground","assets/sprites/funk_background_top.png"),this.load.image("bluenote","assets/sprites/blue_note.png"),this.load.image("greennote","assets/sprites/green_note.png"),this.load.image("rednote","assets/sprites/red_note.png"),this.load.image("yellownote","assets/sprites/yellow_note.png"),this.load.image("bluefunk","assets/sprites/blue_funk.png"),this.load.image("greenfunk","assets/sprites/green_funk.png"),this.load.image("redfunk","assets/sprites/red_funk.png"),this.load.image("yellowfunk","assets/sprites/yellow_funk.png"),this.load.image("asteroid","assets/sprites/mushroom.png"),this.load.image("particleyellow","assets/sprites/yellow.png"),this.load.image("sparkles","assets/sprites/sparkles.png"),this.load.image("success","assets/sprites/success.png"),this.load.image("fail","assets/sprites/fail.png")},e.prototype.create=function(){this.add.text(350,530,"Loaded! Starting game...",{fontFamily:"Arial",fontSize:64,color:"#00ff00"}),this.anims.create({key:"idle",frames:this.anims.generateFrameNumbers("player",{frames:[0]}),frameRate:10,repeat:-1}),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("player",{frames:[1]}),frameRate:10,repeat:-1}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("player",{frames:[2]}),frameRate:10,repeat:-1}),this.scene.start("TitleScene")},e}(Phaser.Scene);e.default=r},1066:function(t,e,s){"use strict";var i=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])};return function(e,s){function i(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return t.call(this,{key:"TitleScene"})||this}return i(e,t),e.prototype.preload=function(){this.music=this.sound.add("titleaudio",{loop:!0})},e.prototype.create=function(t){var e=this;t.dontStartMusic||this.music.play("",0,1,!0),this.add.image(0,0,"background_title").setOrigin(0,0);var s=this.add.sprite(448,583,"startguld");s.setOrigin(0,0),s.setAlpha(0);var i=this.add.sprite(386,448,"instructionguld");i.setOrigin(0,0),i.setAlpha(0),this.add.zone(444,555,435,153).setName("StartGame").setInteractive(),this.add.zone(380,445,550,103).setName("Instructions").setInteractive(),this.input.on("gameobjectover",function(t,e){"StartGame"==e.name?s.alpha=1:"Instructions"==e.name&&(i.alpha=1),document.getElementsByTagName("canvas")[0].style.cursor="crosshair"}),this.input.on("gameobjectout",function(t,e){"StartGame"==e.name?s.alpha=0:"Instructions"==e.name&&(i.alpha=0),document.getElementsByTagName("canvas")[0].style.cursor="default"}),this.input.on("gameobjectdown",function(s,i){"StartGame"==i.name&&(document.getElementsByTagName("canvas")[0].style.cursor="default",e.music.stop(),t.musicRef&&t.musicRef.stop(),e.scene.start("PlayScene")),"Instructions"==i.name&&e.scene.start("InstructionScene",{musicRef:t.musicRef||e.music})})},e}(Phaser.Scene);e.default=r},1067:function(t,e,s){"use strict";var i=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])};return function(e,s){function i(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this,{key:"GameOverScene"})||this;return e.sprites=[],e}return i(e,t),e.prototype.preload=function(){this.music=this.sound.add("gameoveraudio",{loop:!0})},e.prototype.create=function(t){var e=this,s=this.add.image(0,0,"background_gameover");s.setOrigin(0,0),s.setDepth(1),this.music.play("",0,1,!0);for(var i=0;i<300;i++){var r=Phaser.Math.Between(-64,1300),o=Phaser.Math.Between(-64,1e3),n=this.add.image(r,o,"particleyellow");n.setBlendMode(Phaser.BlendModes.ADD),n.setAlpha(.5),n.depth=0,this.sprites.push({s:n,r:2+6*Math.random()})}var a=t.distance,h=(4e5-parseInt(a))/4e5*100,c=Math.round(10*h)/10,u=localStorage.getItem("FunkEscapeScore");u||(u=a),this.add.text(370,600,"Best: "+u+"km from escaping!",{fontFamily:"Arial",fontSize:50,color:"#1177bb"}),this.add.text(390,660,"Current: "+a+"km from escaping!",{fontFamily:"Arial",fontSize:40,color:"#1177bb"}),this.add.text(230,870,"You reached "+c+"% of the level!",{fontFamily:"Arial",fontSize:64,color:"#00aaaa"}),this.add.zone(0,0,1280,960).setName("StartGame").setInteractive(),this.input.on("gameobjectdown",function(t,s){"StartGame"==s.name&&(e.music.stop(),e.scene.start("PlayScene"))})},e.prototype.update=function(t,e){for(var s=0;s<this.sprites.length;s++){var i=this.sprites[s].s;i.y-=this.sprites[s].r,i.y<-256&&(i.y=960)}},e}(Phaser.Scene);e.default=r},1068:function(t,e,s){"use strict";var i=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])};return function(e,s){function i(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return t.call(this,{key:"WinScene"})||this}return i(e,t),e.prototype.preload=function(){this.music=this.sound.add("titleaudio",{loop:!0})},e.prototype.create=function(){var t=this;this.add.image(0,0,"background_win").setOrigin(0,0),this.music.stop(),this.music.play("",0,1,!0);var e=this.textures.get("unicorn").source[0].image,s=this.textures.createCanvas("pad",38,49).source[0].image,i=s.getContext("2d");i.drawImage(e,0,0);for(var r=i.getImageData(0,0,38,49),o=0,n=0,a=new Phaser.Display.Color,h=0;h<r.data.length;h+=4){var c=r.data[h],u=r.data[h+1],p=r.data[h+2],l=r.data[h+3];if(l>0){var d=Phaser.Math.Between(0,1024),m=Phaser.Math.Between(0,768),f=200+16*o,y=64+16*n,g=this.add.image(d,m,"pixel").setScale(0);a.setTo(c,u,p,l),g.setTint(a.color),this.tweens.add({targets:g,duration:2e3,x:f,y:y,scaleX:1,scaleY:1,angle:360,delay:h/1.5,yoyo:!0,repeat:-1,repeatDelay:6e3,hold:6e3})}o++,38===o&&(o=0,n++)}this.add.text(350,700,"Your highscore:"+localStorage.getItem("FunkEscapeScore"),{fontFamily:"Arial",fontSize:64,color:"#ff0000"}),this.add.text(350,770,"Your current score:"+localStorage.getItem("FunkEscapeCurrentScore"),{fontFamily:"Arial",fontSize:64,color:"#ff0000"}),this.add.zone(0,0,1280,960).setName("StartGame").setInteractive(),this.input.on("gameobjectdown",function(e,s){"StartGame"==s.name&&(t.music.stop(),t.scene.start("PlayScene"))})},e}(Phaser.Scene);e.default=r},1069:function(t,e,s){"use strict";var i=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])};return function(e,s){function i(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return t.call(this,{key:"InstructionScene"})||this}return i(e,t),e.prototype.preload=function(){},e.prototype.create=function(t){var e=this;this.add.image(0,0,"background_title").setOrigin(0,0),this.add.image(0,0,"background_instruction").setOrigin(0,0),this.add.zone(0,0,1280,960).setName("ToTitle").setInteractive(),this.input.on("gameobjectdown",function(s,i){"ToTitle"==i.name&&e.scene.start("TitleScene",{dontStartMusic:!0,musicRef:t.musicRef})})},e}(Phaser.Scene);e.default=r},197:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.left=0]="left",t[t.midleft=1]="midleft",t[t.midright=2]="midright",t[t.right=3]="right"}(e.NoteType||(e.NoteType={}))},425:function(t,e,s){"use strict";var i=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])};return function(e,s){function i(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,s,i,r){var o=t.call(this,e,s,i,r)||this;return o.scene=e,o.x=s,o.y=i,o}return i(e,t),e}(Phaser.Physics.Arcade.Sprite);e.PowerUp=r;!function(t){t[t.left=0]="left",t[t.midLeft=1]="midLeft",t[t.midRight=2]="midRight",t[t.right=3]="right"}(e.Power||(e.Power={}))},426:function(t,e,s){t.exports=s(427)},427:function(t,e,s){"use strict";var i=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])};return function(e,s){function i(){this.constructor=e}t(e,s),e.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0}),s(198);var r=s(1054),o=s(1065),n=s(1066),a=s(1067),h=s(1068),c=s(1069),u=function(t){function e(){return t.call(this,{key:"PrePreload"})||this}return i(e,t),e.prototype.preload=function(){this.load.image("loading_screen","assets/sprites/loading_screen.png")},e.prototype.create=function(){this.scene.start("BootScene")},e}(Phaser.Scene),p={type:Phaser.AUTO,parent:"content",width:1280,height:960,resolution:1,backgroundColor:"#000",physics:{default:"arcade",arcade:{debug:!1,gravity:{y:0}}},scene:[u,o.default,n.default,r.default,a.default,h.default,c.default]};new Phaser.Game(p)}},[426]);