{"version":3,"file":"bundle.js","sources":["webpack:///./src/scenes/LoadScene.ts","webpack:///./src/scenes/StartScene.ts","webpack:///./src/scenes/GameScene.ts","webpack:///./src/characters/player.ts","webpack:///./src/handlers/MapHandler.ts","webpack:///./src/handlers/EnemyHandler.ts","webpack:///./src/characters/popehat.ts","webpack:///./src/characters/priest.ts","webpack:///./src/handlers/UIHandler.ts","webpack:///./src/characters/uisword.ts","webpack:///./src/characters/uisoul.ts","webpack:///./src/characters/uiheart.ts","webpack:///./src/scenes/GameOverScene.ts","webpack:///./src/scenes/WinScene.ts","webpack:///./src/characters/uigadget.ts","webpack:///./src/handlers/BulletManager.ts","webpack:///./src/characters/enemy.ts","webpack:///./src/main.ts"],"sourcesContent":["\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar LoadScene =\n/** @class */\nfunction (_super) {\n  __extends(LoadScene, _super);\n\n  function LoadScene() {\n    return _super.call(this, {\n      key: 'LoadScene'\n    }) || this;\n  }\n\n  LoadScene.prototype.preload = function () {\n    this.load.image('background_title', 'assets/gfx/title_screen.png');\n    this.load.image('background_win', 'assets/gfx/win_screen.png');\n    this.load.image('background_gameover', 'assets/gfx/gameover_screen.png');\n    this.load.image('knife', '/assets/gfx/knife.png');\n    this.load.image('cross', '/assets/gfx/cross.png');\n    this.load.image('tilemap01', '/assets/gfx/tilemap01.png');\n    this.load.image('background-tiles', '/assets/gfx/background-tiles.png');\n    this.load.tilemapTiledJSON('map1', '/assets/maps/map1.json');\n    this.load.tilemapTiledJSON('map2', '/assets/maps/map2.json'); // this.load.tilemapTiledJSON('map3', '/assets/maps/map3.json');\n\n    this.load.spritesheet('player', '/assets/gfx/player.png', {\n      frameWidth: 32,\n      frameHeight: 32\n    });\n    this.load.spritesheet('priest', '/assets/gfx/priest.png', {\n      frameWidth: 16,\n      frameHeight: 32\n    });\n    this.load.spritesheet('popehat', '/assets/gfx/popehat.png', {\n      frameWidth: 16,\n      frameHeight: 32\n    });\n    this.load.audio('titleaudio', 'assets/sfx/ambient_deep_bass.mp3', null);\n    this.load.audio('gameoveraudio', 'assets/sfx/ambient_violin_scary.mp3', null);\n    this.load.audio('winaudio', 'assets/sfx/ambient_deep_bass.mp3', null);\n    this.load.audio('knife_hit', 'assets/sfx/knife_hit.mp3', null);\n    this.load.audio('player_death', 'assets/sfx/player_death2.mp3', null);\n    this.load.audio('player_fire_knife', 'assets/sfx/player_fire_knife.mp3', null);\n    this.load.audio('player_hurt', 'assets/sfx/player_hurt.mp3', null);\n    this.load.audio('player_jump', 'assets/sfx/player_jump2.mp3', null);\n    this.load.audio('player_pickup', 'assets/sfx/player_pickup.mp3', null);\n    this.load.audio('player_pickup_soul', 'assets/sfx/player_take_soul.mp3', null);\n    this.load.audio('popehat_death', 'assets/sfx/popehat_death.mp3', null);\n    this.load.audio('popehat_flying', 'assets/sfx/popehat_flying.mp3', null);\n    this.load.audio('portal_activated', 'assets/sfx/portal_activated.mp3', null);\n    this.load.audio('portal_use', 'assets/sfx/portal_use.mp3', null);\n    this.load.audio('priest_death', 'assets/sfx/priest_death.mp3', null);\n    this.load.audio('priest_fire', 'assets/sfx/priest_fire.mp3', null);\n    this.load.audio('gameover_voice', 'assets/sfx/gameover.mp3', null);\n    this.load.audio('player_laugh', 'assets/sfx/player_laugh.mp3', null);\n    this.load.audio('priest_chant', 'assets/sfx/priest_chant.mp3', null);\n    this.load.audio('win_voice', 'assets/sfx/win.mp3', null);\n    this.load.audio('playing_audio', 'assets/sfx/ambient_ghosts.mp3', null);\n  };\n\n  LoadScene.prototype.create = function () {\n    // needs to be in create not in preload\n    this.initAnims();\n  }; // animations are shared between screens, create them only once\n\n\n  LoadScene.prototype.initAnims = function () {\n    // player\n    this.anims.create({\n      key: 'idle',\n      frames: this.anims.generateFrameNumbers('player', {\n        start: 8,\n        end: 9\n      }),\n      frameRate: 3,\n      repeat: 1\n    });\n    this.anims.create({\n      key: 'run',\n      frames: this.anims.generateFrameNumbers('player', {\n        start: 0,\n        end: 5\n      }),\n      frameRate: 8,\n      repeat: 1\n    });\n    this.anims.create({\n      key: 'turn',\n      frames: this.anims.generateFrameNumbers('player', {\n        frames: [6]\n      }),\n      frameRate: 8,\n      repeat: 1\n    });\n    this.anims.create({\n      key: 'jump',\n      frames: this.anims.generateFrameNumbers('player', {\n        frames: [7]\n      }),\n      frameRate: 16,\n      repeat: 1\n    });\n    this.anims.create({\n      key: 'jumpup',\n      frames: this.anims.generateFrameNumbers('player', {\n        frames: [0]\n      }),\n      frameRate: 0,\n      repeat: 0\n    });\n    this.anims.create({\n      key: 'jumpdown',\n      frames: this.anims.generateFrameNumbers('player', {\n        frames: [4]\n      }),\n      frameRate: 0,\n      repeat: 0\n    });\n    this.anims.create({\n      key: 'sacrefice',\n      frames: this.anims.generateFrameNumbers('player', {\n        frames: [0, 10, 11]\n      }),\n      frameRate: 4,\n      repeat: 0\n    }); // popehat\n\n    this.anims.create({\n      key: 'flying',\n      frames: this.anims.generateFrameNumbers('popehat', {\n        start: 0,\n        end: 7\n      }),\n      frameRate: 10,\n      repeat: -1\n    }); // priest\n\n    this.anims.create({\n      key: 'walk',\n      frames: this.anims.generateFrameNumbers('priest', {\n        start: 0,\n        end: 1\n      }),\n      frameRate: 4,\n      repeat: 1\n    });\n    this.anims.create({\n      key: 'crossfire',\n      frames: this.anims.generateFrameNumbers('priest', {\n        start: 2,\n        end: 2\n      }),\n      frameRate: 4,\n      repeat: 0\n    });\n    this.anims.create({\n      key: 'sacreficepose',\n      frames: this.anims.generateFrameNumbers('priest', {\n        start: 3,\n        end: 3\n      }),\n      frameRate: 4,\n      repeat: 0\n    });\n  };\n\n  LoadScene.prototype.update = function (time, delta) {\n    this.scene.start('GameScene'); //this.scene.start('StartScene');\n  };\n\n  return LoadScene;\n}(Phaser.Scene);\n\nexports.default = LoadScene;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/scenes/LoadScene.ts\n// module id = 1079\n// module chunks = 0","\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar StartScene =\n/** @class */\nfunction (_super) {\n  __extends(StartScene, _super);\n\n  function StartScene() {\n    return _super.call(this, {\n      key: 'StartScene'\n    }) || this;\n  }\n\n  StartScene.prototype.preload = function () {\n    this.music = this.sound.add('titleaudio', {\n      loop: true\n    });\n  };\n\n  StartScene.prototype.create = function () {\n    var _this = this;\n\n    this.add.image(0, 0, 'background_title').setOrigin(0, 0);\n    this.music.play('', 0, 1, true);\n    this.add.zone(450, 200, 568, 63).setName('StartGame').setInteractive();\n    this.input.on('gameobjectdown', function (pointer, gameObject) {\n      if (gameObject.name == 'StartGame') {\n        document.getElementsByTagName('canvas')[0].style.cursor = \"default\";\n\n        _this.music.stop();\n\n        _this.scene.start('GameScene');\n      }\n    });\n    this.input.on('pointerover', function (event) {\n      document.getElementsByTagName('canvas')[0].style.cursor = \"crosshair\";\n    });\n    this.input.on('pointerout', function (event) {\n      document.getElementsByTagName('canvas')[0].style.cursor = \"default\";\n    });\n  };\n\n  StartScene.prototype.update = function (time, delta) {//this.music.stop();\n    //this.scene.start('GameScene');\n  };\n\n  return StartScene;\n}(Phaser.Scene);\n\nexports.default = StartScene;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/scenes/StartScene.ts\n// module id = 1080\n// module chunks = 0","\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar player_1 = __importDefault(require(\"../characters/player\"));\n\nvar MapHandler_1 = __importDefault(require(\"../handlers/MapHandler\"));\n\nvar EnemyHandler_1 = __importDefault(require(\"../handlers/EnemyHandler\"));\n\nvar UIHandler_1 = __importDefault(require(\"../handlers/UIHandler\"));\n\nvar GameScene =\n/** @class */\nfunction (_super) {\n  __extends(GameScene, _super);\n\n  function GameScene() {\n    var _this = _super.call(this, {\n      key: 'GameScene'\n    }) || this;\n\n    _this.map = new MapHandler_1.default({\n      scene: _this,\n      yOffset: 80\n    });\n    _this.enemyHandler = new EnemyHandler_1.default(_this);\n    _this.uiHandler = new UIHandler_1.default(_this);\n    console.log('constructing game');\n    return _this;\n  }\n\n  GameScene.prototype.preload = function () {\n    this.music = this.sound.add('playing_audio', {\n      loop: true,\n      volume: 0.4\n    });\n  };\n\n  GameScene.prototype.create = function () {\n    this.enemyHandler.create();\n    this.uiHandler.create();\n    this.initPlayer();\n    this.map.create();\n    this.initPhysics();\n    this.music.volume = 0.4;\n    this.music.play('', 0, 1, true);\n  };\n\n  GameScene.prototype.update = function (time, delta) {\n    this.player.update(time, delta);\n    this.enemyHandler.update(time, delta);\n  };\n\n  GameScene.prototype.initPlayer = function () {\n    var cursors = this.input.keyboard.createCursorKeys();\n    this.player = new player_1.default(100, 100, this, cursors);\n  };\n\n  GameScene.prototype.initPhysics = function () {\n    this.map.init();\n  };\n\n  return GameScene;\n}(Phaser.Scene);\n\nexports.default = GameScene;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/scenes/GameScene.ts\n// module id = 1081\n// module chunks = 0","\"use strict\";\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar BulletManager_1 = __importDefault(require(\"../handlers/BulletManager\"));\n\nvar Player =\n/** @class */\nfunction () {\n  function Player(x, y, scene, cursors) {\n    var _this = this;\n\n    this.scene = scene;\n    this.cursors = cursors;\n    this._ = this;\n    this.space = this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);\n    this.turnedRight = true;\n    this.doublejump = true;\n    this.jumpTimer = 0;\n    this.hp = 5;\n    this.animTimers = {\n      turn: 0,\n      jump: 0\n    };\n    this.haveFired = false;\n    this.sceneLcl = scene;\n    this.sprite = this.scene.physics.add.sprite(x, y, 'player');\n    this.sprite.body.offset.x = 9;\n    this.sprite.body.setSize(14, 32);\n    this.sprite.setScale(2);\n    this.sprite.setDepth(6);\n    this.knifeManager = new BulletManager_1.default(this.scene, 'knife', 5, true, 500, {\n      x: 12,\n      y: 12,\n      width: 10,\n      height: 6\n    }, this.onFire, this);\n    this.pew = this.sceneLcl.sound.add('player_fire_knife', {\n      loop: false\n    });\n    this.pew.volume = 0.4;\n    this.jumpsound = this.sceneLcl.sound.add('player_jump', {\n      loop: false,\n      volume: 0.3\n    });\n    this.jumpsound.volume = 0.3;\n    this.hurtsound = this.sceneLcl.sound.add('player_hurt', {\n      loop: false,\n      volume: 0.8\n    });\n    this.diesound = this.sceneLcl.sound.add('player_death', {\n      loop: false,\n      volume: 0.8\n    }); //this.knifehitwall = this.sceneLcl.sound.add('knife_hit', { loop: false });\n    //this.knifehitwall.volume = 0.3;\n\n    this.sprite.on('animationcomplete', function (e) {\n      if (e.key === 'jump') {\n        _this.sprite.body.setVelocityY(-330);\n\n        _this.jumpTimer = 330;\n        _this.doublejump = true;\n\n        _this.jumpsound.play();\n      }\n    }, scene);\n  }\n\n  Player.prototype.update = function (time, delta) {\n    this.sceneLcl.physics.world.wrap(this.sprite, 8, 30);\n    this.knifeManager.update(delta);\n\n    if (this.jumpTimer > 0) {\n      this.jumpTimer -= delta;\n    }\n\n    if (this.cursors.left.isDown) {\n      if (this.sprite.flipX === false && this.animTimers.turn <= 0 && this.animTimers.jump <= 0) {\n        this.sprite.anims.play('turn', true);\n        this.animTimers.turn = 120;\n      }\n\n      this.sprite.body.setVelocityX(-160);\n      this.turnedRight = false;\n      this.sprite.flipX = true;\n    } else if (this.cursors.right.isDown) {\n      if (this.sprite.flipX === true && this.animTimers.turn <= 0 && this.animTimers.jump <= 0) {\n        this.sprite.anims.play('turn', true);\n        this.animTimers.turn = 120;\n      }\n\n      this.sprite.body.setVelocityX(160);\n      this.turnedRight = true;\n      this.sprite.flipX = false;\n    } else {\n      this.sprite.body.setVelocityX(0);\n    }\n\n    if (this.cursors.up.isDown && this.sprite.body.onFloor()) {\n      // animationcomplete will trigger the actual jump\n      this.sprite.anims.play('jump', true);\n      this.animTimers.jump = 100;\n    }\n\n    if (this.cursors.up.isDown && this.jumpTimer <= 0 && this.doublejump === true && this.animTimers.jump <= 0) {\n      this.sprite.body.setVelocityY(-330);\n      this.doublejump = false;\n      this.jumpsound.play();\n    }\n\n    if (this.space.isDown && !this.haveFired) {\n      this.haveFired = true;\n\n      if (this.turnedRight) {\n        this.knifeManager.fire(this.sprite.x + 10, this.sprite.y - 6, this.turnedRight);\n      } else {\n        this.knifeManager.fire(this.sprite.x - 10, this.sprite.y - 6, this.turnedRight);\n      }\n    } else if (!this.space.isDown) {\n      this.haveFired = false;\n    }\n\n    if (Math.abs(this.sprite.body.velocity.x) > 0 && this.animTimers.turn <= 0 && this.animTimers.jump <= 0) {\n      this.sprite.anims.play('run', true);\n    } else if (this.animTimers.turn <= 0 && this.animTimers.jump <= 0) {\n      this.sprite.anims.play('idle', true);\n    }\n\n    this.animTimers.turn -= delta;\n    this.animTimers.jump -= delta;\n\n    if (this.sprite.body.velocity.y < 0 && this.animTimers.jump <= 0) {\n      this.sprite.anims.play('jumpup', true);\n    } else if (this.sprite.body.velocity.y > 0 && this.animTimers.jump <= 0) {\n      this.sprite.anims.play('jumpdown', true);\n    }\n  };\n\n  Player.prototype.stopKnife = function (knife, tile) {\n    knife.setVelocityX(0);\n    knife.setVelocityY(0);\n    knife.setAccelerationY(600); //let duns = knife.scene.sound.add('knife_hit', { loop: false });\n    //duns.play();\n  };\n\n  Player.prototype.sacrefice = function (player, sacrefice) {\n    console.log(\"sacrefice\"); // this.sprite.anims.play('sacrefice');\n  };\n\n  Player.prototype.takeDamage = function () {\n    this.hp--;\n    this.hurtsound.play();\n  };\n\n  Player.prototype.died = function () {\n    this.diesound.play();\n  };\n\n  Player.prototype.onFire = function (context) {\n    context.pew.play();\n  };\n\n  return Player;\n}();\n\nexports.default = Player;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/characters/player.ts\n// module id = 1082\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar MapHandler =\n/** @class */\nfunction () {\n  function MapHandler(_a) {\n    var scene = _a.scene,\n        yOffset = _a.yOffset;\n    this.currentMap = 1; // Current level\n\n    this.maxMap = 2; // Maximum level, when this map is beaten we will see the winscreen\n\n    this.layerYOffset = 0;\n    this.colliders = [];\n    this.spawnpoint = {\n      x: 100,\n      y: 100\n    };\n    this.sceneRef = scene;\n    this.layerYOffset = yOffset;\n  }\n\n  MapHandler.prototype.create = function () {\n    var _this = this;\n\n    console.log('create map');\n    this.map = this.sceneRef.make.tilemap({\n      key: 'map' + this.currentMap\n    });\n    this.tiles = this.map.addTilesetImage('tilemap01', 'tilemap01');\n    this.bgtiles = this.map.addTilesetImage('background-tiles', 'background-tiles');\n    this.deadlyGroup = this.sceneRef.physics.add.staticGroup();\n    this.backgroundLayer = this.map.createDynamicLayer('Background', this.bgtiles).setScale(2);\n    this.backgroundLayer.setDepth(0);\n    this.tileLayer = this.map.createDynamicLayer('Tiles', this.tiles).setScale(2); // this.tileLayer.setDepth(8); // above bullets or no?\n\n    this.sceneRef.physics.world.bounds.width = this.tileLayer.width * 2;\n    this.sceneRef.physics.world.bounds.height = this.tileLayer.height * 2;\n    this.sceneRef.enemyHandler.removeAll();\n    this.findObjectsByType('Priest', 0).forEach(function (element) {\n      _this.sceneRef.enemyHandler.add(element.x * 2, element.y * 2, 0);\n    });\n    this.findObjectsByType('PopeHat', 0).forEach(function (element) {\n      _this.sceneRef.enemyHandler.add(element.x * 2, element.y * 2, 1);\n    });\n    this.tileLayer.forEachTile(function (tile) {\n      if (tile.index === 66) {\n        // const x = tile.getCenterX();\n        // const y = tile.getCenterY();\n        var x = tile.x * 32; // times 16 times 2\n\n        var y = tile.y * 32; // console.log(x, y);\n\n        var rect = _this.sceneRef.add.zone(x + 12, y - 2, 10, 10);\n\n        _this.deadlyGroup.add(rect);\n      }\n    });\n    this.tileLayer.setCollisionByExclusion([-1]); // map.setCollisionBetween(1, 999, true, 'collisionLayer');\n  };\n\n  MapHandler.prototype.init = function () {\n    console.log('init map'); // player collide with level\n\n    this.colliders.push(this.sceneRef.physics.add.collider(this.tileLayer, this.sceneRef.player.sprite, null, null, null)); // level collide with player bullets\n\n    this.colliders.push(this.sceneRef.physics.add.collider(this.tileLayer, this.sceneRef.player.knifeManager.bullets, this.sceneRef.player.stopKnife, null)); // player collide with level harmful\n\n    this.colliders.push(this.sceneRef.physics.add.collider(this.deadlyGroup, this.sceneRef.player.sprite, this.playerDeadlyCollide.bind(this), null, null)); // enemies collide with level\n\n    this.colliders.push(this.sceneRef.physics.add.collider(this.tileLayer, this.sceneRef.enemyHandler.enemyCollideLevelGroup, null, null));\n    this.colliders.push(this.sceneRef.physics.add.collider(this.tileLayer, this.sceneRef.enemyHandler.sacreficeGroup, null, null)); // enemies collides with player bullets\n\n    this.colliders.push(this.sceneRef.physics.add.collider(this.sceneRef.enemyHandler.enemyGroup, this.sceneRef.player.knifeManager.bullets, this.sceneRef.enemyHandler.onHit, null)); // enemies collides with player\n\n    this.colliders.push(this.sceneRef.physics.add.collider(this.sceneRef.enemyHandler.enemyCollidePlayerGroup, this.sceneRef.player.sprite, this.playerDeadlyCollide.bind(this), null, null));\n    this.colliders.push(this.sceneRef.physics.add.collider(this.sceneRef.player.knifeManager.bullets, this.sceneRef.player.sprite, function (player, bullet) {\n      bullet.destroy();\n    }, null));\n    this.colliders.push(this.sceneRef.physics.add.overlap(this.sceneRef.player.sprite, this.sceneRef.enemyHandler.sacreficeGroup, this.sceneRef.player.sacrefice, null));\n\n    for (var _i = 0, _a = this.sceneRef.enemyHandler.enemys; _i < _a.length; _i++) {\n      var enemy = _a[_i];\n\n      if (enemy.fireManager) {\n        this.sceneRef.physics.add.collider(this.tileLayer, enemy.fireManager.bullets, function (bullet, tile) {\n          bullet.destroy();\n        }, null);\n        this.sceneRef.physics.add.collider(this.sceneRef.player.sprite, enemy.fireManager.bullets, function (playerSprite, bullet) {\n          bullet.destroy();\n          playerSprite.scene.player.takeDamage();\n        }, null);\n      }\n    }\n\n    this.reload();\n  }; // is point on a solid tile\n\n\n  MapHandler.prototype.collideAtPoint = function (x, y) {\n    var possibleTile = this.map.getTileAt(Math.floor(x / 32), Math.floor(y / 32), 1);\n    return possibleTile ? possibleTile.index > -1 : true;\n  };\n\n  MapHandler.prototype.reload = function () {\n    var sp = this.findObjectsByType('SpawnPoint', 0)[0];\n    this.spawnpoint.x = sp.x * 2;\n    this.spawnpoint.y = sp.y * 2; // map is saved in 1x scale\n\n    console.log('setting player to spawnpoint: ', this.spawnpoint);\n    this.sceneRef.player.sprite.setX(this.spawnpoint.x);\n    this.sceneRef.player.sprite.setY(this.spawnpoint.y);\n  };\n\n  MapHandler.prototype.nextMap = function () {\n    this.currentMap++;\n\n    if (this.currentMap > this.maxMap) {\n      this.currentMap = 1;\n      this.sceneRef.scene.start('WinScene');\n      return;\n    }\n\n    this.create();\n    this.removeColliders();\n    this.init();\n  };\n\n  MapHandler.prototype.playerDeadlyCollide = function (player, object) {\n    this.nextMap();\n    console.log('playerDeadlyCollide', player, object);\n    this.reload();\n    player.body.setVelocityX(0);\n    player.body.setVelocityY(0); // player.anims.play('hurt');\n\n    this.sceneRef.player.died();\n  }; // find objects in a Tiled objectlayer of a \"type\"\n\n\n  MapHandler.prototype.findObjectsByType = function (type, layer) {\n    var result = new Array();\n    this.map.objects[layer].objects.forEach(function (element) {\n      if (element.type === type) {\n        // element.y -= this.map.tileHeight;\n        result.push(element);\n      }\n    });\n    return result;\n  };\n\n  MapHandler.prototype.removeColliders = function () {\n    for (var _i = 0, _a = this.colliders; _i < _a.length; _i++) {\n      var collider = _a[_i];\n      this.sceneRef.physics.world.removeCollider(collider);\n    }\n  };\n\n  return MapHandler;\n}();\n\nexports.default = MapHandler;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/handlers/MapHandler.ts\n// module id = 1083\n// module chunks = 0","\"use strict\";\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar popehat_1 = __importDefault(require(\"../characters/popehat\"));\n\nvar priest_1 = __importDefault(require(\"../characters/priest\"));\n\nvar EnemyHandler =\n/** @class */\nfunction () {\n  function EnemyHandler(scene) {\n    this.scene = scene;\n    this.enemys = [];\n    this.sceneRef = scene;\n  }\n\n  EnemyHandler.prototype.create = function () {\n    this.sacreficeGroup = this.scene.physics.add.group();\n    this.enemyGroup = this.scene.physics.add.group();\n    this.enemyCollideLevelGroup = this.scene.physics.add.group();\n    this.enemyCollidePlayerGroup = this.scene.physics.add.group();\n  };\n\n  EnemyHandler.prototype.update = function (time, delta) {\n    this.sceneRef.physics.world.wrap(this.enemys, 0);\n\n    for (var _i = 0, _a = this.enemys; _i < _a.length; _i++) {\n      var enemy = _a[_i];\n      enemy.update(time, delta);\n    }\n  };\n\n  EnemyHandler.prototype.addSacrefice = function (x, y, right) {\n    var sprite = this.scene.physics.add.sprite(x, y, 'priest');\n    ;\n    sprite.setScale(2);\n    sprite.setDepth(5);\n    sprite.flipX = right;\n    sprite.anims.play('sacreficepose', true);\n    this.sacreficeGroup.add(sprite);\n  };\n\n  EnemyHandler.prototype.add = function (x, y, type) {\n    var enemy;\n\n    switch (type) {\n      case 0:\n        {\n          enemy = new priest_1.default(x, y, this.scene);\n          this.enemyCollideLevelGroup.add(enemy.sprite);\n          break;\n        }\n\n      case 1:\n        {\n          enemy = new popehat_1.default(x, y, this.scene);\n          this.enemyCollidePlayerGroup.add(enemy.sprite);\n          break;\n        }\n\n      default:\n        {\n          console.log('NO ENEMY WITH TYPE ', type);\n        }\n    }\n\n    this.enemyGroup.add(enemy.sprite);\n    this.enemys.push(enemy);\n  };\n\n  EnemyHandler.prototype.remove = function (enemy) {\n    this.enemys.splice(this.enemys.indexOf(enemy), 1);\n  };\n\n  EnemyHandler.prototype.removeAll = function () {\n    // clear groups aswell or\n    this.enemys.forEach(function (enemy) {\n      enemy.sprite.destroy();\n    });\n    console.log(this.enemyGroup);\n    this.enemys = [];\n  };\n\n  EnemyHandler.prototype.onTurn = function (enemyCollider, tile) {\n    var enemyToTurn;\n\n    for (var _i = 0, _a = enemyCollider.scene.enemyHandler.enemys; _i < _a.length; _i++) {\n      var enemy = _a[_i];\n\n      if (enemy.collider === enemyCollider) {\n        enemyToTurn = enemy;\n      }\n    }\n\n    if (enemyToTurn.checkTurn) {\n      enemyToTurn.checkTurn();\n    }\n  };\n\n  EnemyHandler.prototype.onHit = function (enemySprite, knife) {\n    var enemyToHit;\n\n    for (var _i = 0, _a = enemySprite.scene.enemyHandler.enemys; _i < _a.length; _i++) {\n      var enemy = _a[_i];\n\n      if (enemy.sprite === enemySprite) {\n        enemyToHit = enemy;\n      }\n    }\n\n    enemyToHit.takeDamage();\n    knife.setAccelerationY(600);\n  };\n\n  return EnemyHandler;\n}();\n\nexports.default = EnemyHandler;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/handlers/EnemyHandler.ts\n// module id = 1084\n// module chunks = 0","\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar enemy_1 = __importDefault(require(\"./enemy\"));\n\nvar Popehat =\n/** @class */\nfunction (_super) {\n  __extends(Popehat, _super);\n\n  function Popehat(x, y, scene) {\n    var _this = _super.call(this, x, y, 'popehat', scene) || this;\n\n    _this.sprite.anims.play('flying', true);\n\n    _this.sprite.body.setAllowGravity(false);\n\n    _this.flyingsound = _this.scene.sound.add('popehat_flying', {\n      loop: true,\n      volume: 0.2\n    });\n\n    _this.flyingsound.play('', 0, 1, true);\n\n    var particles = scene.add.particles('cross');\n    _this.emitter = particles.createEmitter({\n      speed: 300,\n      scale: {\n        start: 1,\n        end: 0\n      },\n      blendMode: 'ADD',\n      follow: _this.sprite\n    }); // this.emitter.setDepth(1000);\n\n    _this.emitter.startFollow(_this.sprite);\n\n    return _this;\n  }\n\n  Popehat.prototype.update = function (time, delta) {\n    // console.log( this.scene.player.sprite.body.center);\n    // this.scene.physics.accelerateToObject(this.sprite, this.scene.player.sprite, 11, 100);\n    this.scene.physics.moveToObject(this.sprite, this.scene.player.sprite.body.center, 48);\n  };\n\n  Popehat.prototype.onDeath = function () {};\n\n  return Popehat;\n}(enemy_1.default);\n\nexports.default = Popehat;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/characters/popehat.ts\n// module id = 1085\n// module chunks = 0","\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar enemy_1 = __importDefault(require(\"./enemy\"));\n\nvar BulletManager_1 = __importDefault(require(\"../handlers/BulletManager\"));\n\nvar Priest =\n/** @class */\nfunction (_super) {\n  __extends(Priest, _super);\n\n  function Priest(x, y, scene) {\n    var _this = _super.call(this, x, y, 'priest', scene) || this;\n\n    _this.turnRight = Math.round(Math.random()) == 0 ? false : true;\n    _this.doTurn = false;\n    _this.turnCd = 100;\n    _this.fireCd = 1500;\n    _this.fireing = 0;\n    _this.paralyzed = false;\n    _this.fireManager = new BulletManager_1.default(_this.scene, 'cross', 5, false, 3000, {\n      x: 12,\n      y: 12,\n      width: 10,\n      height: 6\n    }, _this.onFire, _this);\n    _this.pew = _this.scene.sound.add('priest_fire', {\n      loop: false,\n      volume: 0.4\n    });\n    _this.pew.volume = 0.4;\n    return _this;\n  }\n\n  Priest.prototype.update = function (time, delta) {\n    this.fireing -= delta;\n    this.turnCd -= delta;\n    var colliderPoint;\n    var colliderPointDir;\n\n    if (this.doTurn && this.turnCd <= 0) {\n      this.turnRight = !this.turnRight;\n      this.turnCd = 100;\n    }\n\n    if (this.fireing < 0) {\n      if (this.turnRight) {\n        this.sprite.anims.play('walk', true);\n        this.sprite.body.setVelocityX(50);\n        colliderPoint = [this.sprite.x + 15, this.sprite.y + 32];\n        colliderPointDir = [this.sprite.x + 18, this.sprite.y];\n        this.sprite.flipX = true;\n      } else {\n        this.sprite.anims.play('walk', true);\n        this.sprite.body.setVelocityX(-50);\n        colliderPoint = [this.sprite.x - 15, this.sprite.y + 32];\n        colliderPointDir = [this.sprite.x - 18, this.sprite.y];\n        this.sprite.flipX = false;\n      }\n\n      if (!this.scene.map.collideAtPoint(colliderPoint[0], colliderPoint[1]) || this.scene.map.collideAtPoint(colliderPointDir[0], colliderPointDir[1])) {\n        this.doTurn = true;\n      } else {\n        this.doTurn = false;\n      }\n    } else {\n      this.sprite.body.setVelocityX(0);\n    }\n\n    this.fireManager.update(delta);\n    var firecd = this.fireManager.fire(this.sprite.x + 10, this.sprite.y - 6, this.turnRight);\n\n    if (firecd < 300) {\n      this.fireing = 600;\n      this.sprite.anims.play('crossfire', true);\n    }\n  };\n\n  Priest.prototype.onDeath = function () {\n    this.scene.enemyHandler.addSacrefice(this.sprite.x, this.sprite.y, this.turnRight);\n    this.sprite.destroy();\n    this.scene.enemyHandler.remove(this);\n  };\n\n  Priest.prototype.onFire = function (context) {\n    context.pew.play();\n  };\n\n  return Priest;\n}(enemy_1.default);\n\nexports.default = Priest;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/characters/priest.ts\n// module id = 1086\n// module chunks = 0","\"use strict\";\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar uisword_1 = __importDefault(require(\"../characters/uisword\"));\n\nvar uisoul_1 = __importDefault(require(\"../characters/uisoul\"));\n\nvar uiheart_1 = __importDefault(require(\"../characters/uiheart\"));\n\nvar UIHandler =\n/** @class */\nfunction () {\n  function UIHandler(scene) {\n    this.scene = scene;\n    this.numSoulsToGet = 7;\n    this.numBulletsPlayerHas = 5;\n    this.numHealth = 3;\n    this.sceneRef = scene;\n  }\n\n  UIHandler.prototype.create = function () {\n    this.uiHudGroup = this.scene.physics.add.staticGroup();\n\n    for (var i = 0; i < this.numBulletsPlayerHas; i++) {\n      var hudSword = new uisword_1.default(i * 30 + 100, 650, this.scene);\n      this.uiHudGroup.add(hudSword.sprite);\n    }\n\n    for (var i = 0; i < this.numSoulsToGet; i++) {\n      var hudSoul = new uisoul_1.default(i * 30 + 300, 650, this.scene);\n      this.uiHudGroup.add(hudSoul.sprite);\n    }\n\n    for (var i = 0; i < this.numHealth; i++) {\n      var hudHeart = new uiheart_1.default(i * 30 + 500, 650, this.scene);\n      this.uiHudGroup.add(hudHeart.sprite);\n    }\n  };\n\n  UIHandler.prototype.update = function (time, delta) {\n    /*this.sceneRef.physics.world.wrap(this.enemys, 0);\r\n          for (let enemy of this.enemys) {\r\n      enemy.update(time, delta);\r\n    }*/\n  };\n\n  return UIHandler;\n}();\n\nexports.default = UIHandler;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/handlers/UIHandler.ts\n// module id = 1087\n// module chunks = 0","\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar uigadget_1 = __importDefault(require(\"./uigadget\"));\n\nvar UISword =\n/** @class */\nfunction (_super) {\n  __extends(UISword, _super);\n\n  function UISword(x, y, scene) {\n    return _super.call(this, x, y, 'knife', scene) || this;\n  }\n\n  UISword.prototype.update = function (time, delta) {};\n\n  return UISword;\n}(uigadget_1.default);\n\nexports.default = UISword;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/characters/uisword.ts\n// module id = 1088\n// module chunks = 0","\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar uigadget_1 = __importDefault(require(\"./uigadget\"));\n\nvar UISoul =\n/** @class */\nfunction (_super) {\n  __extends(UISoul, _super);\n\n  function UISoul(x, y, scene) {\n    return _super.call(this, x, y, 'cross', scene) || this;\n  }\n\n  UISoul.prototype.update = function (time, delta) {};\n\n  return UISoul;\n}(uigadget_1.default);\n\nexports.default = UISoul;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/characters/uisoul.ts\n// module id = 1089\n// module chunks = 0","\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar uigadget_1 = __importDefault(require(\"./uigadget\"));\n\nvar UIHeart =\n/** @class */\nfunction (_super) {\n  __extends(UIHeart, _super);\n\n  function UIHeart(x, y, scene) {\n    return _super.call(this, x, y, 'knife', scene) || this;\n  }\n\n  UIHeart.prototype.update = function (time, delta) {};\n\n  return UIHeart;\n}(uigadget_1.default);\n\nexports.default = UIHeart;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/characters/uiheart.ts\n// module id = 1090\n// module chunks = 0","\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar GameOverScene =\n/** @class */\nfunction (_super) {\n  __extends(GameOverScene, _super);\n\n  function GameOverScene() {\n    return _super.call(this, {\n      key: 'GameOverScene'\n    }) || this;\n  }\n\n  GameOverScene.prototype.preload = function () {\n    this.music = this.sound.add('gameoveraudio', {\n      loop: true\n    });\n    this.gameoveraudio = this.sound.add('gameover_voice', {\n      loop: false\n    });\n  };\n\n  GameOverScene.prototype.create = function () {\n    var _this = this;\n\n    this.add.image(0, 0, 'background_gameover').setOrigin(0, 0);\n    this.gameoveraudio.on('ended', function (sound) {\n      this.music.play('', 0, 1, true);\n    }, this);\n    this.gameoveraudio.play('', 0, 1, true);\n    this.add.zone(0, 0, 960, 720).setName('StartGame').setInteractive();\n    this.space = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);\n    this.input.on('gameobjectdown', function (pointer, gameObject) {\n      if (gameObject.name == 'StartGame') {\n        document.getElementsByTagName('canvas')[0].style.cursor = \"default\";\n\n        _this.music.stop();\n\n        _this.scene.start('GameScene');\n      }\n    });\n    this.input.on('pointerover', function (event) {\n      document.getElementsByTagName('canvas')[0].style.cursor = \"crosshair\";\n    });\n    this.input.on('pointerout', function (event) {\n      document.getElementsByTagName('canvas')[0].style.cursor = \"default\";\n    });\n  };\n\n  GameOverScene.prototype.playMusic = function (sound) {\n    this.music.play('', 0, 1, true);\n  };\n\n  GameOverScene.prototype.update = function (time, delta) {\n    if (this.space.isDown) {\n      this.music.stop();\n      this.scene.start('GameScene');\n    }\n  };\n\n  return GameOverScene;\n}(Phaser.Scene);\n\nexports.default = GameOverScene;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/scenes/GameOverScene.ts\n// module id = 1091\n// module chunks = 0","\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar WinScene =\n/** @class */\nfunction (_super) {\n  __extends(WinScene, _super);\n\n  function WinScene() {\n    return _super.call(this, {\n      key: 'WinScene'\n    }) || this;\n  }\n\n  WinScene.prototype.preload = function () {\n    this.music = this.sound.add('winaudio', {\n      loop: true\n    });\n    this.winaudio = this.sound.add('win_voice', {\n      loop: false\n    });\n  };\n\n  WinScene.prototype.create = function () {\n    var _this = this;\n\n    this.add.image(0, 0, 'background_win').setOrigin(0, 0);\n    this.winaudio.on('ended', function (sound) {\n      this.music.play('', 0, 1, true);\n    }, this);\n    this.winaudio.play('', 0, 1, true);\n    this.add.zone(0, 0, 960, 720).setName('StartGame').setInteractive();\n    this.space = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);\n    this.input.on('gameobjectdown', function (pointer, gameObject) {\n      if (gameObject.name == 'StartGame') {\n        document.getElementsByTagName('canvas')[0].style.cursor = \"default\";\n\n        _this.music.stop();\n\n        _this.scene.start('GameScene');\n      }\n    });\n    this.input.on('pointerover', function (event) {\n      document.getElementsByTagName('canvas')[0].style.cursor = \"crosshair\";\n    });\n    this.input.on('pointerout', function (event) {\n      document.getElementsByTagName('canvas')[0].style.cursor = \"default\";\n    });\n  };\n\n  WinScene.prototype.update = function (time, delta) {\n    if (this.space.isDown) {\n      this.music.stop();\n      this.scene.start('GameScene');\n    }\n  };\n\n  return WinScene;\n}(Phaser.Scene);\n\nexports.default = WinScene;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/scenes/WinScene.ts\n// module id = 1092\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar UiGadget =\n/** @class */\nfunction () {\n  function UiGadget(x, y, texture, scene) {\n    this.x = x;\n    this.y = y;\n    this.scene = scene;\n    this.sprite = this.scene.add.sprite(x, y, texture);\n    this.sprite.setScale(2);\n    this.sprite.setDepth(5);\n  }\n\n  return UiGadget;\n}();\n\nexports.UiGadget = UiGadget;\nexports.default = UiGadget;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/characters/uigadget.ts\n// module id = 210\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar BulletManager =\n/** @class */\nfunction () {\n  function BulletManager(scene, texture, maxSize, angle, cd, collisionbox, onFire, context) {\n    this.scene = scene;\n    this.texture = texture;\n    this.angle = angle;\n    this.onFire = onFire;\n    this.context = context;\n    this.cd = 100;\n    this.firecd = 0;\n    this.bullets = scene.physics.add.group({\n      maxSize: maxSize,\n      runChildUpdate: true\n    });\n\n    if (cd) {\n      this.cd = cd;\n      this.firecd = Math.floor(Math.random() * cd);\n    }\n\n    if (collisionbox) {\n      this.collisionbox = collisionbox;\n    }\n\n    this.sceneRef = scene;\n  }\n\n  BulletManager.prototype.update = function (delta) {\n    this.sceneRef.physics.world.wrap(this.bullets, 0);\n\n    if (this.firecd > 0) {\n      this.firecd -= delta;\n    }\n  };\n\n  BulletManager.prototype.fire = function (x, y, right) {\n    if (this.firecd <= 0) {\n      var bullet = this.bullets.get();\n\n      if (bullet) {\n        bullet.x = x;\n        bullet.y = y;\n        bullet.setTexture(this.texture);\n        bullet.body.setAllowGravity(false);\n        bullet.setScale(2);\n        bullet.setDepth(10);\n        bullet.setBounceX(0);\n        bullet.setBounceY(0);\n\n        if (right) {\n          bullet.setVelocityX(400);\n\n          if (this.angle) {\n            bullet.angle = 90;\n          }\n        } else {\n          bullet.setVelocityX(-400);\n\n          if (this.angle) {\n            bullet.angle = 270;\n          }\n        }\n\n        if (this.collisionbox) {\n          bullet.setSize(this.collisionbox.width, this.collisionbox.height, true);\n          bullet.setOffset(this.collisionbox.x, this.collisionbox.y);\n        }\n\n        if (this.onFire) {\n          this.onFire(this.context);\n        }\n\n        this.firecd = this.cd;\n      }\n    }\n\n    return this.firecd;\n  };\n\n  return BulletManager;\n}();\n\nexports.default = BulletManager;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/handlers/BulletManager.ts\n// module id = 435\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Enemy =\n/** @class */\nfunction () {\n  function Enemy(x, y, texture, scene) {\n    this.x = x;\n    this.y = y;\n    this.scene = scene;\n    this.hp = 1;\n    this.sprite = this.scene.physics.add.sprite(x, y, texture);\n    this.sprite.setScale(2);\n    this.sprite.setDepth(5);\n  }\n\n  Enemy.prototype.takeDamage = function () {\n    this.hp--;\n\n    if (this.hp <= 0) {\n      this.onDeath();\n    }\n  };\n\n  return Enemy;\n}();\n\nexports.default = Enemy;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/characters/enemy.ts\n// module id = 436\n// module chunks = 0","\"use strict\";\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nrequire(\"phaser\");\n\nvar LoadScene_1 = __importDefault(require(\"./scenes/LoadScene\"));\n\nvar StartScene_1 = __importDefault(require(\"./scenes/StartScene\"));\n\nvar GameScene_1 = __importDefault(require(\"./scenes/GameScene\"));\n\nvar GameOverScene_1 = __importDefault(require(\"./scenes/GameOverScene\"));\n\nvar WinScene_1 = __importDefault(require(\"./scenes/WinScene\"));\n\nvar config = {\n  type: Phaser.AUTO,\n  parent: 'content',\n  width: 960,\n  height: 720,\n  resolution: 1,\n  pixelArt: true,\n  backgroundColor: \"#333\",\n  physics: {\n    default: 'arcade',\n    arcade: {\n      gravity: {\n        y: 700\n      },\n      // debug: true\n      debug: false\n    }\n  },\n  scene: [LoadScene_1.default, StartScene_1.default, GameScene_1.default, GameOverScene_1.default, WinScene_1.default]\n};\nnew Phaser.Game(config);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main.ts\n// module id = 438\n// module chunks = 0"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}